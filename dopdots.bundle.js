// V=1.0.2
// @pourghannad.ir
function dopDots(t){const e=t.canvas,a=t,n=document.querySelector(e.dataset.elementformousemove);function i(t,n){const i=e.dataset.margin,s=i/2,l=parseInt(e.dataset.elementsize,10),o=e.dataset.color,r=parseInt(e.dataset.moveradius,10),f=e.dataset.elementrect,d=e.dataset.secondrect,c=e.dataset.secondcolor||"#ff0",h=parseInt(e.dataset.startangle,10)||0,m=parseInt(e.dataset.endangle,10)||2*Math.PI;a.clearRect(0,0,e.width,e.height);for(let g=0;g<e.height/i;g++)for(let u=0;u<e.width/i+s;u++){let e=u*i+s,P=g*i+s;u*i+s>t-r&&u*i+s<t+r&&g*i>n-r&&g*i<n+r?(a.beginPath(),"false"===d?a.arc(e,P,l,h,m):a.rect(e,P,l,l),a.fillStyle=c,a.fill()):(a.beginPath(),"false"===f?a.arc(e,P,l,h,m):a.rect(e,P,l,l),a.fillStyle=o,a.fill())}}if(!e.width||!e.height)throw"Canvas should have width and height";if("grid"===e.dataset.type)i(1,1);else if("line"===e.dataset.type){const t=JSON.parse(e.dataset.manifest);if("y"===t.lineDirection){const n=(e.height-t.startPoint.y)/marginOfElements;if("fullHeight"===t.endPoint)for(let e=0;e<n;e++){const n=t.startPoint.y+e*marginOfElements;a.beginPath(),a.arc(t.startPoint.x,n,elementSize,0,2*Math.PI),a.fillStyle=elementsColor,a.fill()}}else if("x"===t.lineDirection){const n=(e.width-t.startPoint.x)/marginOfElements;if("fullWidth"===t.endPoint)for(let e=0;e<n;e++){const n=t.startPoint.x+e*marginOfElements;a.beginPath(),a.arc(n,t.startPoint.y,elementSize,0,2*Math.PI),a.fillStyle=elementsColor,a.fill()}}}n&&!n.getAttribute("listener")&&(n.addEventListener("mousemove",(function(t){i(t.offsetX,t.offsetY)})),n.setAttribute("listener","true"))}module.exports=dopDots;