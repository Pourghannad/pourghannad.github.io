// V=1.0.1
// @pourghannad.ir
function dopDots(t){let e=t.canvas,i=t,a=document.querySelector(e.dataset.elementformousemove);function l(t,a){let l=e.dataset.margin,s=l/2,n=parseInt(e.dataset.elementsize,10),r=e.dataset.color,o=parseInt(e.dataset.moveradius,10),f=e.dataset.elementrect,d=e.dataset.secondrect,h=e.dataset.secondcolor||"#ff0",c=parseInt(e.dataset.startangle,10)||0,g=parseInt(e.dataset.endangle,10)||2*Math.PI;i.clearRect(0,0,e.width,e.height);for(let P=0;P<e.height/l;P++)for(let $=0;$<e.width/l+s;$++){let u=$*l+s,y=P*l+s;$*l+s>t-o&&$*l+s<t+o&&P*l>a-o&&P*l<a+o?(i.beginPath(),"false"===d?i.arc(u,y,n,c,g):i.rect(u,y,n,n),i.fillStyle=h,i.fill()):(i.beginPath(),"false"===f?i.arc(u,y,n,c,g):i.rect(u,y,n,n),i.fillStyle=r,i.fill())}}if(e.width&&e.height){if("grid"===e.dataset.type)l(1,1);else if("line"===e.dataset.type){let s=JSON.parse(e.dataset.manifest);if("y"===s.lineDirection){let n=(e.height-s.startPoint.y)/marginOfElements;if("fullHeight"===s.endPoint)for(let r=0;r<n;r++){let o=s.startPoint.y+r*marginOfElements;i.beginPath(),i.arc(s.startPoint.x,o,elementSize,0,2*Math.PI),i.fillStyle=elementsColor,i.fill()}}else if("x"===s.lineDirection){let f=(e.width-s.startPoint.x)/marginOfElements;if("fullWidth"===s.endPoint)for(let d=0;d<f;d++){let h=s.startPoint.x+d*marginOfElements;i.beginPath(),i.arc(h,s.startPoint.y,elementSize,0,2*Math.PI),i.fillStyle=elementsColor,i.fill()}}}}else throw"Canvas should have width and height";a&&!a.getAttribute("listener")&&(a.addEventListener("mousemove",function t(e){l(e.offsetX,e.offsetY)}),a.setAttribute("listener","true"))}